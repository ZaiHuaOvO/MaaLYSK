{
    "进入商城周常领取": {
        "recognition": {
            "type": "DirectHit",
            "param": {}
        },
        "action": {
            "type": "DoNothing",
            "param": {}
        },
        "next": [
            "周常_点击礼包",
            "[JumpBack]点击商城",
            "[JumpBack]返回上一级页面",
            "[JumpBack]导航回主页面"
        ]
    },
    "周常_点击礼包": {
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [194, 173, 115, 79],
                "expected": ["礼包", "礼", "包"]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "post_delay": 500,
        "next": ["周常_商城向下滑"]
    },
    "周常_商城向下滑": {
        "recognition": {
            "type": "DirectHit",
            "param": {}
        },
        "action": {
            "type": "Swipe",
            "param": {
                "begin": [41, 1146, 1, 1],
                "end": [37, 307, 1, 1],
                "duration": 800
            }
        },
        "pre_delay": 1000,
        "post_wait_freezes": 500,
        "post_delay": 2000,
        "repeat": 2,
        "repeat_delay": 500,
        "timeout": 5000,
        "focus": {
            "Node.PipelineNode.Failed": "[color:red]无每周礼包可领取[/color]"
        },
        "next": ["商城每周礼包"],
        "on_error": ["[JumpBack]商城每周礼包点击", "周常_点击兑换"]
    },
    "商城每周礼包": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": ["shopping/weekly/商城每周免费礼包.png"],
                "roi": [60, 279, 583, 926],
                "order_by": "Score"
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "timeout": 5000,
        "next": ["每周礼包领取", "每周礼包售罄"]
    },
    "每周礼包领取": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": ["shopping/商城免费点击.png"],
                "roi": [254, 882, 224, 90],
                "threshold": [0.5]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "focus": "成功领取每周礼包",
        "post_delay": 1000,
        "next": ["商城每周礼包点击"]
    },
    "每周礼包售罄": {
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": ["售罄", "售", "罄"],
                "roi": [262, 879, 197, 71]
            }
        },
        "action": {
            "type": "DoNothing",
            "param": {}
        },
        "focus": "每周礼包售罄",
        "next": ["商城每周礼包点击"]
    },
    "商城每周礼包点击": {
        "recognition": {
            "type": "DirectHit",
            "param": {}
        },
        "action": {
            "type": "Click",
            "param": {
                "target": [19, 936, 12, 13]
            }
        },
        "next": ["周常_点击兑换", "[JumpBack]退出领取点击popop"]
    },

    "周常_点击兑换": {
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": ["兑换", "兑", "换"],
                "roi": [538, 192, 93, 52]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "next": ["进入快乐小铺", "[JumpBack]滑动寻找小铺"]
    },
    "滑动寻找小铺": {
        "recognition": {
            "type": "DirectHit",
            "param": {}
        },
        "action": {
            "type": "Swipe",
            "param": {
                "begin": [672, 270, 1, 1],
                "end": [272, 273, 1, 1],
                "duration": 500
            }
        },
        "post_wait_freezes": 1000,
        "next": []
    },
    "进入快乐小铺": {
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": ["快乐小铺", "快乐", "小铺"],
                "roi": [31, 252, 629, 52]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "post_delay": 1000,
        "next": ["确认进入快乐小铺"]
    },
    "确认进入快乐小铺": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": ["shopping/weekly/快乐巧克力.png"],
                "roi": [632, 54, 41, 38]
            }
        },
        "action": {
            "type": "DoNothing",
            "param": {}
        },
        "focus": {
            "Node.Action.Succeeded": "进入快乐小铺",
            "Node.PipelineNode.Failed": "[color:red]快乐小铺没有可购买物品[/color]"
        },
        "timeout": 5000,
        "next": ["小铺_极空许愿券", "小铺_辉耀磁石"],
        "on_error": [
            "进入心砂商店",
            "[JumpBack]滑动寻找小铺",
            "[JumpBack]退出领取点击popop"
        ]
    },
    "小铺_极空许愿券": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": ["shopping/weekly/极空许愿券.png"],
                "roi": [46, 376, 312, 176]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "next": ["小铺极空许愿券领取"]
    },
    "小铺极空许愿券领取": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": ["shopping/商店购买.png"],
                "roi": [256, 743, 215, 68]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "pre_delay": 500,
        "post_delay": 1000,
        "focus": "快乐小铺极空许愿券购买成功",
        "next": ["小铺_辉耀磁石", "[JumpBack]退出领取点击popop"]
    },

    "小铺_辉耀磁石": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": ["shopping/weekly/辉耀磁石.png"],
                "roi": [46, 376, 312, 176]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "next": ["购买两个"]
    },
    "购买两个": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": ["shopping/加号.png"],
                "roi": [556, 685, 37, 36]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "next": ["小铺辉耀磁石领取"]
    },
    "小铺辉耀磁石领取": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": ["shopping/商店购买.png"],
                "roi": [251, 814, 220, 65],
                "threshold": [0.6]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "pre_delay": 500,
        "post_delay": 1000,
        "focus": "快乐小铺辉耀磁石购买成功",
        "next": [
            "进入心砂商店",
            "[JumpBack]滑动寻找小铺",
            "[JumpBack]退出领取点击popop"
        ]
    },
    "进入心砂商店": {
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": ["心砂商店", "心砂"],
                "roi": [31, 252, 629, 52]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "post_delay": 1000,
        "timeout": 5000,
        "next": ["确认进入心砂商店"]
    },
    "确认进入心砂商店": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": ["shopping/weekly/记忆心砂_稀有.png"],
                "roi": [632, 54, 41, 38]
            }
        },
        "action": {
            "type": "DoNothing",
            "param": {}
        },
        "focus": {
            "Node.Action.Succeeded": "进入心砂商店",
            "Node.PipelineNode.Failed": "[color:red]心砂商店没有可购买物品[/color]"
        },
        "timeout": 5000,
        "next": ["[JumpBack]紫砂_极空许愿券", "[JumpBack]蓝砂_加速魔方"]
    },
    "紫砂_极空许愿券": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": ["shopping/weekly/紫砂许愿券购买.png"],
                "roi": [513, 449, 87, 42]
            }
        },
        "action": {
            "type": "Click",
            "param": {"target": [545, 465, 18, 11]}
        },
        "max_hit": 1,
        "next": ["购买五个"]
    },
    "蓝砂_加速魔方": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": ["shopping/weekly/蓝砂加速魔方购买.png"],
                "roi": [168, 432, 503, 252]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "max_hit": 1,
        "next": ["购买十个"]
    },

    "购买五个": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": ["shopping/加号.png"],
                "roi": [556, 685, 37, 36]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "pre_delay": 500,
        "post_delay": 500,
        "max_hit": 1,
        "repeat": 7,
        "next": ["紫砂许愿券点击购买"]
    },
    "购买十个": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": ["shopping/加号.png"],
                "roi": [556, 685, 37, 36]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "pre_delay": 500,
        "post_delay": 1000,
        "max_hit": 1,
        "repeat": 13,
        "next": ["蓝砂加速魔方点击购买"]
    },
    "紫砂许愿券点击购买": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": ["shopping/商店购买.png"],
                "roi": [252, 798, 221, 66]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "post_delay": 1000,
        "focus": "心砂_珍贵极空许愿券购买成功",
        "next": ["是否商城页面", "[JumpBack]退出领取点击popop"]
    },
    "蓝砂加速魔方点击购买": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": ["shopping/商店购买.png"],
                "roi": [252, 798, 221, 66]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "post_delay": 1000,
        "focus": "心砂_稀有加速魔方购买成功",
        "next": ["是否商城页面", "[JumpBack]退出领取点击popop"]
    }
}
